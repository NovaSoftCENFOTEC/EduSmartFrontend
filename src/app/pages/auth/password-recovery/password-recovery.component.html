<app-topbar></app-topbar>
<div class="login-wrapper">
  <div class="login-container">
    
   
    <div class="login-form-section">
      <div class="form-content">
        
        
        <div class="logo-container">
          <div class="logo-box">
            <img src="assets/icons/EduSmartIcon.png" alt="EduSmart Logo" class="logo-image">
          </div>
        </div>

       
        <h1 class="title">
          Recuperar Contraseña
        </h1>
        
        
        <p class="subtitle">
          Ingrese su dirección de correo electrónico para recibir instrucciones sobre cómo recuperar su contraseña.
        </p>

        <div class="form-wrapper">
          
          
          <div class="form-container">
            <form (ngSubmit)="handlePasswordRecovery($event)" autocomplete="off" #frm="ngForm">
              
              
              <div class="input-group">
                <span class="input-group-text bg-white border-end-0">
                  <i class="bi bi-envelope"></i>
                </span>
                <input
                  #email="ngModel"
                  type="email"
                  class="form-control border-start-0"
                  id="email"
                  name="email"
                  placeholder="email@address.com"
                  [(ngModel)]="recoveryForm.email"
                  required
                  email
                  style="font-size: 1.25rem; height: 55px; padding: 1rem 1.125rem;"
                />
              </div>

              
              @if (email.invalid && (email.dirty || email.touched)) {
                <div class="error-message">
                  @if (email.errors?.['required']) {
                    <div>El correo electrónico es obligatorio.</div>
                  } 
                  @if (email.errors?.['email']) {
                    <div>El correo electrónico no es válido.</div>
                  }
                </div>
              }

             
              <button
                class="btn btn-primary w-100 py-2 mb-3"
                style="font-size: 1.3rem; font-weight: 700; height: 55px; margin-top: 1rem;"
                type="submit"
                [disabled]="frm.invalid"
              >
                
                <span>Recuperar Contraseña</span>
              </button>
            </form>

           
            
          </div>
        </div>
      </div>
    </div>

   
    <div class="image-section">
      <div class="image-content">
        <img 
          src="assets/img/RecuperarClave.jpg"
          alt="EduSmart - Recuperación de Contraseña"
          class="login-image"
          onError="this.style.display='none'; this.nextElementSibling.style.display='flex';"
        />
        
        
        <div class="fallback-content" style="display: none;">
          <i class="fas fa-key text-indigo-500 text-6xl mb-4"></i>
          <h2 class="image-title">Recupera tu Acceso</h2>
          <p class="image-subtitle">Te ayudamos a recuperar tu contraseña</p>
        </div>
      </div>
    </div>
  </div>
</div>


<ng-template #infoModal>
  <div class="modal-content-custom">
    <div class="modal-header-custom">
  
      <h2>Recuperación de Contraseña</h2>
    </div>
    <div class="modal-body-custom">
      <p>
        Si existe un usuario asociado a este correo, se enviará un correo con
        instrucciones de restablecimiento de contraseña.
      </p>
    </div>
    <div class="modal-footer-custom">
  <button 
    class="btn btn-primary w-100 py-2 mb-3" 
    style="font-size: 1.3rem; font-weight: 700; height: 55px; margin-top: 1rem; display: flex; align-items: center; justify-content: center; text-decoration: none; background: linear-gradient(135deg, #718096, #4a5568) !important; border: none;"
    (click)="closeInfoModal()"
  >

    <span>Aceptar</span>
  </button>
</div>
  </div>
</ng-template>

<app-footer></app-footer>
