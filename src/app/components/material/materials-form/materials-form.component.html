<form [formGroup]="form" class="mb-4" style="max-width: 400px; margin: 0 auto">
    <div class="mb-3 text-center">
        <h2
                style="
        font-size: var(--font-h2-size);
        font-weight: var(--font-h2-weight);
        color: var(--color-indigo-dye);
      "
        >
            {{ form.get('id')?.value ? 'Editar Material' : 'Registrar Material' }}
        </h2>
    </div>

    <div class="mb-3">
        <label class="mb-1" for="name">
            Nombre del material<span class="required-asterisk">*</span>
        </label>
        <input
                id="name"
                formControlName="name"
                type="text"
                class="form-control normal"
                placeholder="Nombre del material"
        />
        <div
                class="form-error-message"
                *ngIf="
        form.controls['name'].invalid &&
        (form.controls['name'].dirty || form.controls['name'].touched)
      "
        >
            El nombre es obligatorio.
        </div>
    </div>

    <div class="mb-3">
        <label class="mb-1" for="fileUrl">
            Enlace del archivo<span class="required-asterisk">*</span>
        </label>
        <div class="d-flex gap-2 align-items-center">
            <input
                    id="fileUrl"
                    type="text"
                    class="form-control disabled-field"
                    formControlName="fileUrl"
                    [readonly]="true"
                    [disabled]="true"
                    placeholder="Se llenará automáticamente al subir un archivo"
            />
            <button type="button" class="btn btn-secondary" (click)="openUploadWidget()">Subir Archivo</button>
        </div>

        @if (form.get('fileUrl')?.invalid && (form.get('fileUrl')?.dirty || form.get('fileUrl')?.touched)) {
            <div class="form-error-message">El enlace del archivo es obligatorio.</div>
        }
    </div>

    <div class="text-center mt-4">
        <button
                (click)="callSave()"
                [disabled]="form.invalid"
                class="btn btn-primary"
                type="button"
        >
            Guardar
        </button>
    </div>
</form>