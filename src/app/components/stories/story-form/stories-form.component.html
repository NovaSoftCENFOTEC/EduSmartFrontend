<div class="position-relative">
    <form
            [formGroup]="form"
            class="mb-4"
            style="max-width: 400px; margin: 0 auto"
    >
        <div class="mb-3 text-center">
            <h2
                    style="
          font-size: var(--font-h2-size);
          font-weight: var(--font-h2-weight);
          color: var(--color-indigo-dye);
        "
            >
                Registrar Historia
            </h2>
        </div>

        <div class="mb-3">
            <label class="mb-1" for="title">
                Título<span class="required-asterisk">*</span>
            </label>
            <input
                    class="form-control normal"
                    formControlName="title"
                    id="title"
                    placeholder="Ej: La llegada de los españoles al Nuevo Mundo"
                    type="text"
            />
            <div
                    *ngIf="
          form.controls['title'].invalid &&
          (form.controls['title'].dirty || form.controls['title'].touched)
        "
                    class="form-error-message"
            >
                El título es obligatorio.
            </div>
        </div>

        <div class="mb-3">
            <label class="mb-1" for="content">
                Contenido<span class="required-asterisk">*</span>
            </label>
            <textarea
                    class="form-control normal"
                    formControlName="content"
                    id="content"
                    placeholder="Escribe aquí el contenido de la historia"
                    rows="10"
            ></textarea>
            <div
                    *ngIf="
          form.controls['content'].invalid &&
          (form.controls['content'].dirty || form.controls['content'].touched)
        "
                    class="form-error-message"
            >
                El contenido es obligatorio.
            </div>
        </div>

        <div class="text-center mt-4">
            <button
                    (click)="callSave()"
                    [disabled]="form.invalid || isLoading"
                    class="btn btn-primary"
                    type="button"
            >
                @if (!isLoading) {
                    <span>Guardar</span>
                }
                @if (isLoading) {
                    <span>Procesando...</span>
                }
            </button>
        </div>
    </form>
    @if (isLoading) {
        <div class="loader-overlay">
            <app-loader></app-loader>
        </div>
    }
</div>
